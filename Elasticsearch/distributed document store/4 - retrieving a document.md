## 获取文档 ##

文档能够通过主要分片(Primary Shard)或者任意一个副本分片(Replica Shard)获取。

![](http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/images/04-03_get.png)

上图展示了获取文档的过程，每个步骤解释如下：

1. 客户端(Client)发送一个请求到节点1。
2. 该节点利用文档的_id字段来判断该文档属于分片0。分片0的分片拷贝(主要分片或者是副本分片)存在于所有的3个节点上。这一次，它将请求转发到了节点2。
3. 节点2将文档返回给节点1，节点1随即将文档返回给客户端。

对于读请求(Read Request)，请求节点(Requesting Node)每次都会选择一个不同的分片拷贝来实现负载均衡 - 循环使用所有的分片拷贝。

可能存在这种情况，当一份文档正在被索引时，该文档在主要分片已经就绪了，但是还未被拷贝到其他副本分片上。此时副本分片或许报告文档不存在(译注：此时有读请求来获取该文档)，然而主要分片能够成功返回需要的文档 。一旦索引请求返回给用户的响应是成功，那么文档在主要分片以及所有副本分片上都是可用的。

